<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Data storage - Daptin</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/theme_extra.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-114227400-1', 'docs.dapt.in');
            ga('send', 'pageview');
        </script>
<link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">

    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">Daptin</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Setting up <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../setting-up/settingup/">Setting up</a>
</li>
                            
<li >
    <a href="../../setting-up/entities/">Entities</a>
</li>
                            
<li >
    <a href="../../setting-up/entity_relations/">Entity relations</a>
</li>
                            
<li >
    <a href="../../actions-streams/default_actions/">Inbuilt Actions</a>
</li>
                            
<li >
    <a href="../../setting-up/database_configuration/">Database configuration</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">Storage</a>
    <ul class="dropdown-menu">
            
<li class="active">
    <a href="./">Data storage</a>
</li>
            
<li >
    <a href="../../cloudstore/cloudstore/">Cloud storage</a>
</li>
            
<li >
    <a href="../../subsite/subsite/">Subsites</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Auth</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../auth/users_and_usergroups/">Users and groups</a>
</li>
            
<li >
    <a href="../../auth/authorization/">Authorization</a>
</li>
            
<li >
    <a href="../../auth/authentication/">Authentication</a>
</li>
            
<li >
    <a href="../../auth/permissions/">Permission model</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Extend</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../actions-streams/actions/">Actions</a>
</li>
            
<li >
    <a href="../../extend/marketplace/">Market place</a>
</li>
            
<li >
    <a href="../auditing/">Data auditing</a>
</li>
            
<li >
    <a href="../data_validation/">Data validation</a>
</li>
            
<li >
    <a href="../data_conformation/">Data conformations</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Other APIs</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../state_tracking/">State tracking</a>
</li>
            
<li >
    <a href="../../actions-streams/streams/">Data streams</a>
</li>
            
<li >
    <a href="../../extend/oauth_connection/">OAuth connections</a>
</li>
            
<li >
    <a href="../../extend/oauth_token/">OAuth tokens</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../../setting-up/database_configuration/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../../cloudstore/cloudstore/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/daptin/daptin/edit/master/docs/data-modeling/data_storage.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#data-storage">Data storage</a></li>
            <li><a href="#standard-columns">Standard columns</a></li>
            <li><a href="#world-table">World table</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="data-storage">Data storage<a class="headerlink" href="#data-storage" title="Permanent link">Link</a></h1>
<p>Daptin relies on a relational database for all data persistence requirements. As covered in the <a href="../../setting-up/settingup/">setting up guide</a> currently the following relational database are supported:</p>
<ul>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>SQLite</li>
</ul>
<p>This document goes into the detail of how the database is used and what are the tables created.</p>
<h2 id="standard-columns">Standard columns<a class="headerlink" href="#standard-columns" title="Permanent link">Link</a></h2>
<p>The following 5 columns are present in every table</p>
<table>
<thead>
<tr>
<th>ColumnName</th>
<th>ColumnType</th>
<th>DataType</th>
<th>Attributes</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>id</td>
<td>int(11)</td>
<td>primary key  Auto increment Never exposed externally</td>
</tr>
<tr>
<td>version</td>
<td>integer</td>
<td>int(11)</td>
<td>get incremented every time a change is made</td>
</tr>
<tr>
<td>created_at</td>
<td>timestamp</td>
<td>timestamp</td>
<td>the timestamp when the row was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>timestamp</td>
<td>timestamp</td>
<td>the timestamp when the row was last updated</td>
</tr>
<tr>
<td>reference_id</td>
<td>alias</td>
<td>varchar(40)</td>
<td>The id exposed in APIs</td>
</tr>
<tr>
<td>permission</td>
<td>integer</td>
<td>int(4)</td>
<td>Permissions - check Authorization documentation</td>
</tr>
<tr>
<td>user_id</td>
<td>foreign key</td>
<td>int(11)</td>
<td>the owner of this object</td>
</tr>
</tbody>
</table>
<p>Other columns are created based on the schema. </p>
<p>The <code>id</code> column is completely for internal purposes and is never exposed in an JSON API.
Every row of data inherently belongs to one user. This is the user who created that row. The associated user can be changed later.</p>
<h2 id="world-table">World table<a class="headerlink" href="#world-table" title="Permanent link">Link</a></h2>
<p>The <code>world</code> table holds the structure for all the entities and relations (including for itself).</p>
<p>Each row contains the schema for the table in a "world_schema_json" column.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script src="../../js/base.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
